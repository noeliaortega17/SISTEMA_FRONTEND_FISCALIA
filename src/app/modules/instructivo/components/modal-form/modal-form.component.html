<form [formGroup]="formInstructivo">

    <div class="grid">
        <div class="col-12">
            <p-dialog [(visible)]="openModal" [style]="{width: '50vw'}" header={{tittleForm}} [modal]="true" class="p-fluid">
                <ng-template pTemplate="content">
                    
                    <p class="text-center mb-6"><p-badge [value]="'Los campos marcados con * son obligatorios'"></p-badge></p>
                    
                    <div class="form-group field mt-6" style="display: grid; grid-template-columns: auto auto;">
                        <label class="text-lg font-bold text-800"><span class="text-red-500">*</span> Fiscalia General</label>
                        <p-triStateCheckbox formControlName="fiscaliaGeneral" Id="checked"></p-triStateCheckbox>
                        <!--   <label class="p-tristatecheckbox-label" for="checked">{{ formInstructivo.value.fiscaliaGeneral === null ? 'nulo' : formInstructivo.value.fiscaliaGeneral }}</label>-->
                    </div>
                    <div class="form-group field mt-6">
                        <span class="p-float-label">
                            <input type="number" pInputText id="cite" [(ngModel)]="instructivo.cite" formControlName="cite" class="p-inputtext-sm capitalize mt-1" />
                            <label htmlFor="cite" class="text-lg font-bold text-800"><span class="text-red-500">*</span> Cite</label>
                        </span>
                        <small class="p-error block mt-2" *ngIf="formInstructivo.controls['cite'].touched && formInstructivo.get('cite')?.hasError('required')" >El campo Cite es obligatorio</small>
                    </div>
                   
                    <div class="form-group field mt-6">
                        <span class="p-float-label">
                            <input type="text" pInputText id="descripcion" [(ngModel)]="instructivo.descripcion" formControlName="descripcion" class="p-inputtext-sm mt-1" />
                            <label htmlFor="descripcion" class="text-lg font-bold text-800"><span class="text-red-500">*</span> Descripción</label>
                        </span>
                        <small class="p-error block mt-2" *ngIf="formInstructivo.controls['descripcion'].touched && formInstructivo.get('descripcion')?.hasError('required')" >El campo Descripción es obligatorio</small>
                    </div>
                    

                    <div class="form-group field mt-6">
                        <span class="p-float-label">
                            <p-calendar appendTo="body" id = "fechaInstructivo" formControlName="fechaInstructivo" dateFormat="dd/mm/yy"></p-calendar>
                            <label htmlFor="fechaInstructivo" class="text-lg font-bold text-800"><span class="text-red-500">*</span> Fecha</label>
                        </span>
                        <small class="p-error block mt-2" *ngIf="formInstructivo.controls['fechaInstructivo'].touched && formInstructivo.get('fechaInstructivo')?.hasError('required')" >El campo Fecha es obligatorio</small>
                    </div>
                    
                    <div class="form-group field mt-6">
                        <p-fileUpload name="pdfFile" chooseLabel="Subir archivo" [showUploadButton]="false" [showCancelButton]="false" (onSelect)="onUpload($event)" [multiple]="false" accept="" [maxFileSize]="1000000">
                            
                        </p-fileUpload>
                    </div>
  

                </ng-template>
                <ng-template pTemplate="footer">
                    <input type="hidden" pInputText id="id" [(ngModel)]="instructivo.id" formControlName="id"/>
                    <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-secondary p-button-rounded mr-2 p-button-sm sombra-black" (click)="hideModal()"></button>
                    <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-rounded mr-2 sombra-black p-button-sm" (click)="saveInstructivo()"
                        [loading]="isLoading"
                        [disabled]="formInstructivo.invalid">
                    </button>
                </ng-template>
            </p-dialog>
        </div>
    </div>
</form>